/* Full-screen loading overlay */
.va-loading-overlay {
	position: fixed;
	inset: 0;
	background: radial-gradient(1200px 800px at -10% -30%, rgba(255, 238, 0, 0.15), transparent 60%), linear-gradient(180deg, #000000 0%, #000000 100%);
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	z-index: 2000;
	overflow: hidden;
}

.va-loading-logo, .va-splash-logo {
	display: inline-flex;
	gap: 6px;
	align-items: baseline;
	position: relative;
	margin-top: -40px;
}

.va-letter {
	font-weight: 900;
	font-size: clamp(60px, 12vw, 120px);
	letter-spacing: 0.03em;
	color: #ffffff;
	background: linear-gradient(180deg, #ffffff 0%, #dfe3ff 100%);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	text-shadow: 0 0 10px rgba(255, 238, 0, 0.5);
	opacity: 0;
	transform: translateY(10px) scale(0.98);
	animation:
		va-letter-in 0.5s cubic-bezier(0.22, 1, 0.36, 1) forwards,
		va-neon-glow 3s ease-in-out infinite,
		va-electric-flicker 3.2s steps(2, start) infinite;
	position: relative;
}

/* V letter special styling - #ffee00 */
.va-letter-v,
.va-letter:first-child,
.va-loading-logo .va-letter:first-of-type,
.va-splash-logo .va-letter:first-of-type {
	background: linear-gradient(180deg, #ffee00 0%, #ffd700 100%);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
}

/* Electric scan line through letters */
.va-letter::after {
	content: '';
	position: absolute;
	inset: 0;
	background: linear-gradient(90deg, transparent, rgba(255, 238, 0, 0.7), transparent);
	filter: blur(6px);
	transform: translateX(-120%);
	animation: va-shimmer 2.4s ease-in-out infinite;
	animation-delay: 0.9s;
}

/* Custom appearance for V */
.va-letter-v {
	transform-origin: 10% 90%;
	animation-name: va-v-pop, va-neon-glow, va-electric-flicker;
	animation-duration: 0.7s, 3s, 3.2s;
	animation-timing-function: cubic-bezier(0.22, 1, 0.36, 1), ease-in-out, steps(2, start);
	animation-delay: 0s, .8s, .8s;
}
.va-letter-v::after { content: none; }
@keyframes va-v-pop {
	from { opacity: 0; transform: translateY(20px) scale(0.6) rotate(-8deg); filter: blur(3px); }
	60%  { opacity: 1; transform: translateY(-4px) scale(1.05) rotate(2deg); filter: blur(0.5px); }
	to   { opacity: 1; transform: translateY(0) scale(1) rotate(0deg); filter: blur(0); }
}

/* Staggered reveals: first value targets va-letter-in, others for glow/flicker */
.va-letter:nth-child(1)  { animation-delay: 0s,    .8s, .8s; }
.va-letter:nth-child(2)  { animation-delay: 0.08s, .88s, .88s; }
.va-letter:nth-child(3)  { animation-delay: 0.16s, .96s, .96s; }
.va-letter:nth-child(4)  { animation-delay: 0.24s, 1.04s, 1.04s; }
.va-letter:nth-child(5)  { animation-delay: 0.32s, 1.12s, 1.12s; }
/* space element does not animate */
.va-letter:nth-child(7)  { animation-delay: 0.48s, 1.28s, 1.28s; }
.va-letter:nth-child(8)  { animation-delay: 0.56s, 1.36s, 1.36s; }
.va-letter:nth-child(9)  { animation-delay: 0.64s, 1.44s, 1.44s; }
.va-letter:nth-child(10) { animation-delay: 0.72s, 1.52s, 1.52s; }
.va-letter:nth-child(11) { animation-delay: 0.80s, 1.60s, 1.60s; }
.va-letter:nth-child(12) { animation-delay: 0.88s, 1.68s, 1.68s; }
.va-letter:nth-child(13) { animation-delay: 0.96s, 1.76s, 1.76s; }

.va-space { width: clamp(10px, 2vw, 18px); }

@keyframes va-letter-in {
	from { opacity: 0; transform: translateY(10px) scale(0.98); filter: blur(2px); }
	to   { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }
}

/* Lightning bolt strikes near the 'V' position, then V flashes in */
.va-lightning-bolt {
	position: absolute;
	top: -40%;
	left: -8px;
	width: 12px;
	height: 150%;
	opacity: 0;
	/* jagged bolt shape */
	background:
		conic-gradient(from 180deg at 50% 0%, rgba(255,255,255,0.95), rgba(255,238,0,0.9) 60%, rgba(255,204,0,0.7) 100%);
	clip-path: polygon(50% 0%, 62% 6%, 38% 14%, 66% 22%, 42% 30%, 70% 38%, 44% 46%, 72% 54%, 44% 62%, 66% 70%, 46% 78%, 64% 86%, 50% 100%, 36% 88%, 54% 80%, 32% 72%, 56% 64%, 30% 56%, 54% 48%, 28% 40%, 54% 32%, 30% 24%, 54% 16%, 36% 8%);
	filter: drop-shadow(0 0 16px rgba(255,238,0,0.95)) drop-shadow(0 0 34px rgba(255,204,0,0.6));
	animation: va-bolt-appear 0.08s ease-out 0.24s forwards, va-bolt-wiggle 0.32s steps(3, end) 0.28s, va-bolt-fade 0.5s ease 1.1s forwards;
	z-index: 2;
}
.va-lightning-bolt::after {
	content: '';
	position: absolute;
	top: 55%;
	left: -16px;
	width: 44px;
	height: 44px;
	background: radial-gradient(circle, rgba(255,255,255,0.95), rgba(255,238,0,0.55) 50%, transparent 70%);
	border-radius: 50%;
	filter: blur(4px);
	opacity: 0;
	animation: va-bolt-impact 0.28s ease 0.72s forwards;
}
/* small branch */
.va-lightning-bolt::before {
	content: '';
	position: absolute;
	top: 22%;
	left: -18px;
	width: 34px;
	height: 3px;
	background: linear-gradient(90deg, rgba(255,255,255,0.9), rgba(255,238,0,0.6));
	filter: drop-shadow(0 0 8px rgba(255,238,0,0.8));
	transform: rotate(-25deg) scaleX(0);
	transform-origin: left center;
	animation: va-branch-grow 0.2s ease 0.44s forwards;
}

@keyframes va-bolt-appear {
	from { opacity: 0; transform: translateY(-12px) rotate(2deg) scaleY(0.7); }
	to { opacity: 1; transform: translateY(0) rotate(-3deg) scaleY(1); }
}
@keyframes va-bolt-impact {
	0% { opacity: 0; transform: scale(0.7); }
	100% { opacity: 1; transform: scale(1.25); }
}
@keyframes va-bolt-wiggle {
	0% { transform: translateY(0) rotate(-3deg); }
	33% { transform: translateY(2px) rotate(1deg); }
	66% { transform: translateY(-1px) rotate(-2deg); }
	100% { transform: translateY(0) rotate(0deg); }
}
@keyframes va-bolt-fade {
	to { opacity: 0; }
}
@keyframes va-branch-grow {
	from { transform: rotate(-25deg) scaleX(0); opacity: 0.0; }
	to { transform: rotate(-25deg) scaleX(1); opacity: 1; }
}

/* Extra flash on first letter after strike */
.va-loading-logo .va-letter:first-of-type,
.va-splash-logo .va-letter:first-of-type {
	animation-name: va-letter-in, va-neon-glow, va-electric-flicker, va-v-flash;
	animation-duration: 0.5s, 3s, 3.2s, 0.25s;
	animation-timing-function: cubic-bezier(0.22, 1, 0.36, 1), ease-in-out, steps(2, start), ease-out;
	animation-delay: 0s, .8s, .8s, 0.85s; /* flash right after impact */
	animation-fill-mode: forwards, none, none, forwards;
}

@keyframes va-v-flash {
	0% { text-shadow: 0 0 24px rgba(255,255,255,0.9), 0 0 40px rgba(255,238,0,0.9), 0 0 60px rgba(255,204,0,0.7); transform: scale(1.05); }
	100% { text-shadow: 0 0 12px rgba(255,238,0,0.6), 0 0 22px rgba(255, 204, 0, 0.35); transform: scale(1); }
}

/* Screen flash + rumble for realism */
.va-screen-flash {
	position: absolute;
	top: 50%;
	left: 50%;
	width: 80vmax;
	height: 80vmax;
	transform: translate(-50%, -50%);
	background: radial-gradient(circle at center, rgba(255,255,255,0.35), rgba(255,238,0,0.2), transparent 55%);
	opacity: 0.05;
	pointer-events: none;
	animation: va-flash-pulse 3.2s ease-in-out infinite;
	filter: blur(1px);
	mix-blend-mode: screen;
}
@keyframes va-flash-pulse {
	0% { opacity: 0.05; transform: translate(-50%, -50%) scale(0.98); }
	50% { opacity: 0.15; transform: translate(-50%, -50%) scale(1.02); }
	100% { opacity: 0.05; transform: translate(-50%, -50%) scale(0.98); }
}

/* Subtle rumble on entire logo after strike */
.va-loading-logo,
.va-splash-logo {
	animation: va-rumble 0.18s ease-in-out 0.75s 1;
}
@keyframes va-rumble {
	0% { transform: translate(0,0); }
	25% { transform: translate(-0.3px, 0.3px); }
	50% { transform: translate(0.3px, -0.3px); }
	75% { transform: translate(-0.3px, 0px); }
	100% { transform: translate(0,0); }
}

@keyframes va-electric-flicker {
	0% { opacity: 1; filter: drop-shadow(0 0 8px rgba(255, 238, 0, 0.6)); }
	6% { opacity: 0.4; filter: drop-shadow(0 0 2px rgba(255, 238, 0, 0.2)); }
	8% { opacity: 1; }
	22% { opacity: 0.7; }
	24% { opacity: 1; }
	52% { opacity: 0.85; }
	54% { opacity: 1; }
	100% { opacity: 1; }
}

@keyframes va-neon-glow {
	0%,100% { text-shadow: 0 0 12px rgba(255, 238, 0, 0.6), 0 0 22px rgba(255, 204, 0, 0.35); }
	50% { text-shadow: 0 0 24px rgba(255, 238, 0, 0.9), 0 0 40px rgba(255, 204, 0, 0.5); }
}

@keyframes va-shimmer {
	0% { transform: translateX(-120%); opacity: 0.0; }
	20% { opacity: 0.5; }
	50% { opacity: 0.8; }
	100% { transform: translateX(120%); opacity: 0.0; }
}

.va-loading-spark, .va-splash-bolt {
	position: absolute;
	width: 140px;
	height: 140px;
	border-radius: 50%;
	background: radial-gradient(circle, rgba(255, 238, 0, 0.35), transparent 70%);
	filter: blur(30px);
	animation: va-spark-move 2.6s infinite ease-in-out;
	pointer-events: none;
}

@keyframes va-spark-move {
	0% { transform: translate(-60px, -40px) scale(0.9); opacity: 0.6; }
	50% { transform: translate(60px, 40px) scale(1.05); opacity: 0.9; }
	100% { transform: translate(-60px, -40px) scale(0.9); opacity: 0.6; }
}

.va-loading-text {
	margin-top: 16px;
	color: #b0b9e4;
	font-weight: 600;
	letter-spacing: 0.04em;
}

/* Initial splash screen */
.va-splash-screen {
	position: fixed;
	inset: 0;
	display: grid;
	place-items: center;
	background: radial-gradient(1200px 800px at -10% -30%, rgba(255, 238, 0, 0.15), transparent 60%), radial-gradient(1100px 800px at 120% 0%, rgba(255, 204, 0, 0.12), transparent 65%), linear-gradient(180deg, #000000 0%, #0a0a0a 40%, #000000 100%);
	z-index: 3000;
	overflow: hidden;
}

.va-splash-screen.is-closing { animation: va-splash-fadeout 0.8s ease forwards; }

@keyframes va-splash-fadeout {
	to { opacity: 0; visibility: hidden; }
}

.va-loading-overlay::before,
.va-loading-overlay::after,
.va-splash-screen::before,
.va-splash-screen::after { content: none !important; }

@keyframes va-bg-flow {
	0% { transform: translate3d(-2%, -2%, 0) rotate(0deg); }
	50% { transform: translate3d(2%, 2%, 0) rotate(1deg); }
	100% { transform: translate3d(-2%, -2%, 0) rotate(0deg); }
}

/* Powered by caption */
.va-splash-powered {
	position: absolute;
	bottom: 8%;
	left: 50%;
	transform: translateX(-50%);
	color: #cfd6ff;
	font-weight: 700;
	letter-spacing: 0.12em;
	text-transform: uppercase;
	font-size: clamp(10px, 1.6vw, 12px);
	opacity: 0;
	text-shadow: 0 0 10px rgba(255, 238, 0, 0.5), 0 0 20px rgba(255, 204, 0, 0.25);
	animation: va-powered-in 0.9s ease forwards 1.2s, va-neon-glow 3s ease-in-out infinite 1.2s;
	z-index: 2;
}

@keyframes va-powered-in {
	from { opacity: 0; transform: translate(-50%, 6px); filter: blur(2px); }
	to   { opacity: 0.95; transform: translate(-50%, 0); filter: blur(0); }
}

/* Start button */
.va-splash-start {
	position: absolute;
	bottom: 18%;
	left: 50%;
	transform: translateX(-50%);
	padding: 12px 28px;
	border-radius: 999px;
	border: 1px solid rgba(255, 238, 0, 0.45);
	background: rgba(255, 255, 255, 0.02);
	color: #ffffff !important;
	font-weight: 800;
	letter-spacing: 0.12em;
	text-transform: uppercase;
	cursor: pointer;
	box-shadow:
		0 0 18px rgba(255, 238, 0, 0.25),
		inset 0 0 16px rgba(255, 238, 0, 0.12);
	text-shadow: 0 0 10px rgba(255, 238, 0, 0.5), 0 0 20px rgba(255, 204, 0, 0.25);
	transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease, background 0.2s ease;
	animation: va-neon-glow 3s ease-in-out infinite 0.2s;
}
.va-splash-start:hover {
	transform: translateX(-50%) translateY(-2px);
	border-color: rgba(255, 238, 0, 0.7);
	box-shadow:
		0 0 28px rgba(255, 238, 0, 0.35),
		inset 0 0 24px rgba(255, 238, 0, 0.18);
	background: rgba(255, 238, 0, 0.08);
	color: #ffffff !important;
}
.va-splash-start:active {
	transform: translateX(-50%) translateY(0);
}


/* Electric logo: pulsing glow and staged appearance */
.logo-electric {
	display: inline-flex;
	align-items: baseline;
	gap: 8px;
	filter: drop-shadow(0 0 6px rgba(255,238,0,0.22));
	animation: logo-pulse 2.4s ease-in-out infinite;
}
@keyframes logo-pulse {
	0%,100% { filter: drop-shadow(0 0 6px rgba(255,238,0,0.22)) drop-shadow(0 0 12px rgba(255,204,0,0.12)); }
	50%     { filter: drop-shadow(0 0 14px rgba(255,238,0,0.45)) drop-shadow(0 0 26px rgba(255,204,0,0.25)); }
}
.logo-v {
	font-size: clamp(80px, 18vw, 140px);
	font-weight: 900;
	background: linear-gradient(180deg, #ffee00, #ffd700);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	text-shadow: 0 0 18px rgba(255,238,0,0.55), 0 0 28px rgba(255,204,0,0.32);
	opacity: 0;
	animation: v-flash-in 0.24s ease-out forwards;
}
@keyframes v-flash-in {
	0%   { opacity: 0; transform: scale(0.6) rotate(-8deg); filter: blur(2px); text-shadow: 0 0 0 rgba(255,238,0,0); }
	60%  { opacity: 1; transform: scale(1.08) rotate(2deg); filter: blur(0.3px); text-shadow: 0 0 24px rgba(255,238,0,0.9), 0 0 40px rgba(255,204,0,0.5); }
	100% { opacity: 1; transform: scale(1) rotate(0deg); filter: blur(0); }
}
.logo-word { display: inline-flex; gap: 4px; }
.logo-letter {
	font-size: clamp(60px, 14vw, 110px);
	font-weight: 800;
	color: #ffffff;
	opacity: 0;
	transform: translateY(8px);
	text-shadow: 0 0 8px rgba(255,238,0,0.28), 0 0 14px rgba(255,204,0,0.16);
	animation:
		letter-reveal 0.5s cubic-bezier(0.22,1,0.36,1) forwards,
		letter-neon 2.4s ease-in-out infinite;
	animation-delay:
		var(--revealDelay, 0s),
		calc(var(--i, 0) * 0.15s);
}
@keyframes letter-reveal {
	from { opacity: 0; transform: translateY(8px); filter: blur(2px); }
	to   { opacity: 1; transform: translateY(0); filter: blur(0); }
}
@keyframes letter-neon {
	0%, 100% { text-shadow: 0 0 6px rgba(255,238,0,0.25), 0 0 12px rgba(255,204,0,0.15); opacity: 1; }
	40%      { text-shadow: 0 0 20px rgba(255,238,0,0.65), 0 0 34px rgba(255,204,0,0.35); opacity: 1; }
	60%      { text-shadow: 0 0 10px rgba(255,238,0,0.35), 0 0 18px rgba(255,204,0,0.2); }
}
